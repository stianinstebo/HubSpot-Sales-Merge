<html>
	<head>
		<title>Synlighet - HubSpot Sales Merge</title>

		<!-- CSS -->
		<link rel="stylesheet" href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css" integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX" crossorigin="anonymous">

		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Work+Sans:200,300,400,500&display=swap" rel="stylesheet">


		<!-- JS -->
		<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

		<script src="https://unpkg.com/popper.js@1.12.6/dist/umd/popper.js" integrity="sha384-fA23ZRQ3G/J53mElWqVJEGJzU0sTs+SvzG8fXVWP+kJQ1lwFAOkcUOysnlKJC33U" crossorigin="anonymous"></script>

		<script src="https://unpkg.com/bootstrap-material-design@4.1.1/dist/js/bootstrap-material-design.js" integrity="sha384-CauSuKpEqAFajSpkdjv3z9t8E7RlpJ1UP0lKM/+NdtSarroVKu069AlsRPKkFBz9" crossorigin="anonymous"></script>

		<script src="https://unpkg.com/floatthead"></script>

		<style>
			* {
				font-family: 'Raleway', sans-serif;
			}
			.active { background-color: #ededed !important; }
			.pulse-button {

				position: relative;
				border: none;
				box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
				cursor: pointer;
				-webkit-animation: pulse 1.0s 2 cubic-bezier(0.66, 0, 0, 1);
				-moz-animation: pulse 1.0s 2 cubic-bezier(0.66, 0, 0, 1);
				-ms-animation: pulse 1.0s 2 cubic-bezier(0.66, 0, 0, 1);
				animation: pulse 1.0s 2 cubic-bezier(0.66, 0, 0, 1);
			}
			
			.pulse-button:hover {
				-webkit-animation: none;-moz-animation: none;-ms-animation: none;animation: none;
			}

			
			@-webkit-keyframes pulse {
				to {
					box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);
					border: none;
					}
				}


			@-moz-keyframes pulse {to {box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);}}
			@-ms-keyframes pulse {to {box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);}}
			@keyframes pulse {to {box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);}}

			.post-vertical-parent {
				position: relative;
			}
			.post-vertical-child {
				position: absolute;  
				width: 80%; 
				height: 80%;
				left:0; right:0;
        		top:0; bottom:0;
        		margin:auto;
				/*top: 50%;  
				-ms-transform: translateY(-50%); 
				transform: translateY(-50%);
				margin: 0 auto;*/
				/*margin-left: 5%;
				margin-right: 5%;*/
			}

			.btn-label {
				padding-top: 2px;
				text-transform: uppercase;
				font-size: 14px;
				margin-right: 5px;
				color: #6c757d;
			}
			.card-body-top {
				width: 100%;
				height: 30%;
				text-align: center;
				font-size: 1.5vw;
				border-bottom: 1px solid #ccc;
			}
			.card-body-bottom {
				width: 100%;
				height: calc(70% - 10px); 
				text-align: center;
				font-size: 2vw;
				margin-top: 10px;
			}
			.card-body-bottom span {
				font-size: 15px;
			}

			@media only screen and (max-width: 764px) {
				.card-body-top {
					font-size: 16px;
				}
				.card-body-bottom {
					font-size: 20px;
				}
			}

			.overlay {
				width: 100%;
				height: 100%;
				margin: 0;
				background-color: #283848;
				/*opacity: 0.55655555;*/
				position: absolute;
				z-index: 999999;
				/*display: none;*/
			}
			.progress-stages {
				width: 100%;
				height: 10px;
				margin-top: 4px;
			}

			.loader {
			    position: relative;
			    margin: 0 auto;
			    width: 100px;
			}

			.loader:before {
			    content: '';
			    display: block;
			    padding-top: 100%;
			}

			.circular {
			    animation: rotate 2s linear infinite;
			    height: 100%;
			    transform-origin: center center;
			    width: 100%;
			    position: absolute;
			    top: 0;
			    bottom: 0;
			    left: 0;
			    right: 0;
			    margin: auto;
			}

			.path {
			    stroke-dasharray: 1, 200;
			    stroke-dashoffset: 0;
			    stroke: #fff;
			    animation: dash 1.5s ease-in-out infinite;
			    stroke-linecap: round;
			}


			.md-chip {
			  display: inline-block;
			  background-color: #dedede;
			  padding: 0 12px;
			  border-radius: 32px;
			  font-size: 13px;
			  transition: 0.2s;
			  color: #000;
			  height: 30px;
			  line-height: 30px;
			}
			.md-chip:hover {
			    background: #ccc;
			  }


			@keyframes rotate {
			    100% {
			        transform: rotate(360deg);
			    }
			}

			@keyframes dash {
			    0% {
			        stroke-dasharray: 1, 200;
			        stroke-dashoffset: 0;
			    }
			    50% {
			        stroke-dasharray: 89, 200;
			        stroke-dashoffset: -35px;
			    }
			    100% {
			        stroke-dasharray: 89, 200;
			        stroke-dashoffset: -124px;
			    }
			}
			.poorreadingpeeps {
				color: #333 !important;
			}

			.custom-file-control, .form-control, .is-focused .custom-file-control, .is-focused .form-control {
				background-image: none;
			}
			.font-worksans {
				font-family: 'Work Sans', sans-serif !important;
				font-weight: 300;
			}
		</style>

		<script>
			var salesrepArr = [];

			var globalCountrySelected = "";
			var globalSalesRepSelected = 0;
			var globalSalesYearSelected = "";
			var globalSalesMonthSelected = "";

			var dealOwnerName = [];

			var globalGraphArray = ['', '', '', '', '', '', '', '', '', '', '', ''];

			var graphArrayOmsatt = {
				    "Januar": Math.round(Math.random() * 1000),
				    "Februar": Math.round(Math.random() * 1000),
				    "Mars": Math.round(Math.random() * 1000),
				    "April": Math.round(Math.random() * 1000),
				    "Mai": Math.round(Math.random() * 1000),
				    "Juni": Math.round(Math.random() * 1000),
				    "Juli": Math.round(Math.random() * 1000),
				    "August": Math.round(Math.random() * 1000),
				    "September": Math.round(Math.random() * 1000),
				    "Okotober": Math.round(Math.random() * 1000),
				    "November": Math.round(Math.random() * 1000),
				    "Desember":Math.round(Math.random() * 1000),
				    "Januar 2018": Math.round(Math.random() * 1000),
				    "Februar 2018": Math.round(Math.random() * 1000),
				    "Mars 2018": Math.round(Math.random() * 1000),
				    "April 2018": Math.round(Math.random() * 1000),
				    "Mai 2018": Math.round(Math.random() * 1000),
				    "Juni 2018": Math.round(Math.random() * 1000),
				    "Juli 2018": Math.round(Math.random() * 1000),
				    "August 2018": Math.round(Math.random() * 1000),
				    "September 2018": Math.round(Math.random() * 1000),
				    "Okotober 2018": Math.round(Math.random() * 1000),
				    "November 2018": Math.round(Math.random() * 1000),
				    "Desember 2018":Math.round(Math.random() * 1000)
				};

			// var graphArrayOmsatt = [];

			$(document).ready(function() { 
				var accountApiKeys = ['43ac5280-fddd-454f-afb4-f6bca6347734', '763188a5-eb8c-4f45-b915-0c64e9ac3114'];

				$('body').bootstrapMaterialDesign(); 
				$(".sticky-header").floatThead({top:50});
				$("#dropdownMenuButtonPeriode").text(new Date().getFullYear());
				globalSalesYearSelected = new Date().getFullYear();
				loadData(globalSalesRepSelected, globalSalesYearSelected, globalSalesMonthSelected);
				$('#sales-persons').append('<a class="dropdown-item" href="#" onclick="selectSalesPerson(0)">Alle selgere</a>');
				for (iii in accountApiKeys) {
					console.log('int count: '+iii);
					
					$.get( "/api/owners/"+accountApiKeys[iii], function( data ) {
					  console.log(data);
					  
					  // if (accountApiKeys[i] == '763188a5-eb8c-4f45-b915-0c64e9ac3114') {
					  // 	console.log("key: "+accountApiKeys[i]);
					  	
					  // } else {
					  	
					  // }

					 // switch(accountApiKeys[iii]) {
					 //  	case '43ac5280-fddd-454f-afb4-f6bca6347734':
					 //  		$('#sales-persons').append('<small style="padding-left: 20px; color: #ccc;">Norge</small>');
					 //  	break;

					 //  	case '763188a5-eb8c-4f45-b915-0c64e9ac3114':
					 //  		$('#sales-persons').append('<small style="padding-left: 20px; color: #ccc;">Sverige</small>');
					 //  	break;

					 //  	default:
					 //  		console.log("FATAL ERROR: "+iii);
					 //  	break;
					 //  }
					  
					  for (i in data) {
					  	salesrepArr.push([data[i][2], data[i][0]]);
					  	
					  	dealOwnerName.push({ ID: data[i][2], name: data[i][0] });
					  	console.log("owner json: "+dealOwnerName);


					  	// console.log("name: "+data[i]);
					  	// console.log("stage: "+data[i]);
					  	$('#th-pipeline'+data[i][0]).append(data[i][1]);
					  	var ownerCountry = "";
					  	if (data[i][0] !== " ") {

						  	if (data[i][1].includes('.no')) {
						  		$('#sales-persons').append('<a class="dropdown-item" href="#" onclick="selectSalesPersonBeta('+"'"+data[i][2]+"',"+"'"+data[i][0]+"'"+')">'+data[i][0]+'<small style="float: right; width: 100%; color: #ccc;">Norge</small></a>');
						  	} else {
						  		$('#sales-persons').append('<a class="dropdown-item" href="#" onclick="selectSalesPerson('+"'"+data[i][2]+"',"+"'"+data[i][0]+"'"+')">'+data[i][0]+'<small style="float: right; width: 100%; color: #ccc;">Sverige</small></a>');
						  	}
						  }

					  	// if (data[i][0] == " ") {
					  	// 	// $('#sales-persons').append('<a class="dropdown-item" href="#" onclick="selectSalesPerson('+"'"+data[i][2]+"',"+"'"+data[i][1]+"'"+')">'+data[i][1]+'</a><small>'+data[i][1]+'</small>');
					  	// } else {
					  	// 	$('#sales-persons').append('<a class="dropdown-item" href="#" onclick="selectSalesPerson('+"'"+data[i][2]+"',"+"'"+data[i][0]+"'"+')">'+data[i][0]+'</a><small>'+data[i][1]+'</small>');
					  	// }
					  	
					  }

					  
					});
				}

				// $("#table-filter-input").on("keyup", function() {
				//     var value = $(this).val().toLowerCase();
				//     $("#tbl-customers tr").filter(function() {
				//       $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
				//     });
				//   });

				// $('#table-filter-input').change(function() { 
				// 	var value = $(this).val().toLowerCase();
				//     $("#tbl-customers tr").filter(function() {
				//       $(this).toggle(checkInput($(this), value))
				//     });
				// });

				// $("#table-filter-input").on("change",function() {
				//     alert(this.value);
				// });
				
				$("#table-filter-input").on("input", function() {
				    var value = $(this).val().toLowerCase();
				    $("#tbl-customers tr").filter(function() {
				      $(this).toggle(checkInput($(this), value))
				    });
				  });


				function checkInput(element, value) {
				  value = value.split(' ');
				  for (var i = 0; i < value.length; i++) {
				    if (value[i] && element.text().toLowerCase().indexOf(value[i]) == -1) return false;
				  }
				  return true;
				}
				

				// $(".overlay").fadeOut();

				$("#search-persons").keyup(function() {

			      // Retrieve the input field text and reset the count to zero
			      var filter = $(this).val(),
			        count = 0;

			      // Loop through the comment list
			      $('#sales-persons a').each(function() {


			        // If the list item does not contain the text phrase fade it out
			        if ($(this).text().search(new RegExp(filter, "i")) < 0) {
			          $(this).hide();  // MY CHANGE

			          // Show the list item if the phrase matches and increase the count by 1
			        } else {
			          $(this).show(); // MY CHANGE
			          count++;
			        }

			      });

			    });
				

			});
			function actionToggleGraph() {
				$("#graph-view").fadeToggle();

				var myCanvas = document.getElementById("barChart");
				var holder = document.getElementById("graph-view");
				myCanvas.width = holder.offsetWidth-30;
				myCanvas.height = holder.offsetHeight;
				  
				var ctx = myCanvas.getContext("3d");

				function drawLine(ctx, startX, startY, endX, endY,color){
				    ctx.save();
				    ctx.strokeStyle = color;
				    ctx.beginPath();
				    ctx.moveTo(startX,startY);
				    ctx.lineTo(endX,endY);
				    ctx.stroke();
				    ctx.restore();
				}
				
				function drawBar(ctx, upperLeftCornerX, upperLeftCornerY, width, height,color){
				    ctx.save();
				    ctx.fillStyle=color;
				    ctx.fillRect(upperLeftCornerX,upperLeftCornerY,width,height);
				    ctx.restore();
				}

				
				var Barchart = function(options){
				    this.options = options;
				    this.canvas = options.canvas;
				    this.ctx = this.canvas.getContext("2d");
				    this.colors = options.colors;
				  
				    this.draw = function(){
				        var maxValue = 0;
				        for (var categ in this.options.data){
				            maxValue = Math.max(maxValue,this.options.data[categ]);
				        }
				        var canvasActualHeight = this.canvas.height - this.options.padding * 2;
				        var canvasActualWidth = this.canvas.width - this.options.padding * 2;
				 
				        //drawing the grid lines
				        var gridValue = 0;
				        while (gridValue <= maxValue){
				            var gridY = canvasActualHeight * (1 - gridValue/maxValue) + this.options.padding;
				            drawLine(
				                this.ctx,
				                0,
				                gridY,
				                this.canvas.width,
				                gridY,
				                this.options.gridColor
				            );
				             
				            //writing grid markers
				            this.ctx.save();
				            this.ctx.fillStyle = this.options.gridColor;
				            this.ctx.font = "bold 10px Arial";
				            this.ctx.fillText(gridValue, 10,gridY - 2);
				            this.ctx.restore();
				 
				            gridValue+=this.options.gridScale;
				        }
				  
				        //drawing the bars
				        var barIndex = 0;
				        var numberOfBars = Object.keys(this.options.data).length;
				        var barSize = (canvasActualWidth)/numberOfBars;
				 
				        for (categ in this.options.data){

				            var val = this.options.data[categ];
				            var barHeight = Math.round( canvasActualHeight * val/maxValue) ;
				            drawBar(
				                this.ctx,
				                this.options.padding + barIndex * barSize,
				                this.canvas.height - barHeight - this.options.padding,
				                barSize,
				                barHeight,
				                this.colors[barIndex%this.colors.length]
				            );
				 
				            barIndex++;
				        }

				  //       this.ctx.save();
						// this.ctx.textBaseline="bottom";
						// this.ctx.textAlign="center";
						// this.ctx.fillStyle = "#000000";
						// this.ctx.font = "bold 14px Arial";
						// this.ctx.fillText(this.options.seriesName, this.canvas.width/2,this.canvas.height);
						// this.ctx.restore();  
				  
				    }
				}

				var myBarchart = new Barchart(
				    {
				        canvas:myCanvas,
				        seriesName: "Test",
				        padding:55,
				        gridScale:200,
				        gridColor:"#eeeeee",
				        data:globalGraphArray,
				        colors:["#283848","#F46B50"]
				    }
				);
				myBarchart.draw();
			}
			function actionToggleTable () {
				// $("#tbl-customers").fadeToggle();

				var $element = $('#tbl-customers');

				if (!$element.is(':visible')) {
					console.log("fade in");
				    $element.fadeIn();
				    $('#table-icon').empty();
				    $('#table-icon').append('keyboard_arrow_up');
				} else {
					$element.fadeOut();
					console.log("fade out");
					$('#table-icon').empty();
					$('#table-icon').append('keyboard_arrow_down');
				}

			}

			function loadData(paged, year, month) {
				$('#dealModal').modal('hide');
				$('#tbl-customers').empty();
				$('#amountOmsatt').empty();
				$('#amountEstimert').empty();
				$('#amountLost').empty();
				$('#amountPotensial').empty();

				$('#amountOmsatt').append('<div class="loader" style="margin-top: -10px;"> <svg class="circular"> <circle class="path" fill="none" r="20" cx="50" cy="50" stroke-width="3" stroke-miterlimit="10"></circle> </svg> </div>');

				$('#amountEstimert').append('<div class="loader" style="margin-top: -10px;"> <svg class="circular"> <circle class="path" fill="none" r="20" cx="50" cy="50" stroke-width="3" stroke-miterlimit="10"></circle> </svg> </div>');

				$('#amountLost').append('<div class="loader" style="margin-top: -10px;"> <svg class="circular"> <circle class="path" fill="none" r="20" cx="50" cy="50" stroke-width="3" stroke-miterlimit="10"></circle> </svg> </div>');

				$('#amountPotensial').append('<div class="loader" style="margin-top: -10px;"> <svg class="circular"> <circle class="path" fill="none" r="20" cx="50" cy="50" stroke-width="3" stroke-miterlimit="10"></circle> </svg> </div>');

				$.get( "/test", function( data ) {
				  console.log(data);
				  var stageArray1 = [];
				  var stageArray2 = [];
				  var stageArray3 = [];
				  var stageArray4 = [];
				  var stageArray5 = [];
				  var stageArray6 = [];
				  
				  var tempi = paged;
				  var arrlength = data.length;

				  // var amountOmsatt = 0;
				  var amountOmsatt = 0;
				  var amountEstimert = 0;
				  var amountLost = 0;
				  var amountPotensial = 0;


				  var completionPercentage = 0;
				  for (i in data) {
				  	
				  	// amountOmsatt = +y + +z;

				  	console.log("name: "+data[i][0]);
				  	console.log("stage: "+data[i][1]);
				  	var stageCounter = 0;
				  	var stagePrecentage = 0;
				  	
				  	console.log("selected rep: "+globalSalesRepSelected);
				  	console.log("selected year: "+globalSalesYearSelected);
				  	console.log("selected month: "+globalSalesMonthSelected);

				  	switch(data[i][1]) {
				  		case 'appointmentscheduled':
				  		stageCounter = 1;
				  		stagePrecentage = 10;
				  		stageArray1.push('appointmentscheduled');
				  		break;

				  		case 'qualifiedtobuy':
				  		stageCounter = 2;
				  		stagePrecentage = 30;
				  		stageArray2.push('qualifiedtobuy');
				  		break;

				  		case 'presentationscheduled':
				  		stageCounter = 3;
				  		stagePrecentage = 50;
				  		stageArray3.push('presentationscheduled');
				  		break;

				  		case 'decisionmakerboughtin':
				  		stageCounter = 4;
				  		stagePrecentage = 60;
				  		stageArray4.push('decisionmakerboughtin');
				  		break;

				  		case 'contractsent':
				  		stageCounter = 5;
				  		stagePrecentage = 80;
				  		stageArray5.push('contractsent');
				  		break;

				  		case 'closedwon':
				  		stageCounter = 6;
				  		stagePrecentage = 100;
				  		stageArray6.push('closedwon');
				  		break;

				  		case 'closedlost':
				  		stageCounter = 7;
				  		stagePrecentage = 100;
				  		//stageArray7.push('qualifiedtobuy');
				  		console.log("LOST!: "+data[i][0]);
				  		break;

				  		default:
				  		console.log("FATAL ERROR! cont = "+data[i][1]);
				  		break;
				  	}

				  	var datePeriode = new Date(parseInt(data[i][5])).toLocaleDateString("nb-NO");
				  	var dates = datePeriode.toString().split('.');
				  	var closedate = new Date(parseInt(data[i][6])).toLocaleDateString("nb-NO");
				  	var dates2 = closedate.toString().split('.');
				  	if (paged == 0 && !year && !month) {
				  		console.log("----------");
				  		console.log("Init: no selection");
				  		console.log("----------");

				  		switch(data[i][1]) {
					  			case 'closedwon':
						  			amountOmsatt += parseInt(data[i][2]);
						  			amountEstimert = parseInt(data[i][2]);
					  			break;

					  			case 'closedlost':
					  				amountLost += parseInt(data[i][2]);
					  			break;

					  			default:
					  				amountEstimert += parseInt(data[i][2]);
					  				amountPotensial += parseInt(data[i][2]);
					  			break;
					  		}

					  		$('#tbl-customers').append('<tr style="cursor: pointer;" onclick="selectDeal('+data[i][4]+')" class="'+data[i][3]+'" id="row'+i+'"><th scope="row">'+data[i][0]+'</th>');
						  	console.log(stageArray1);
						  	console.log(stageArray2);
						  	console.log(stageArray3);
						  	console.log(stageArray4);
						  	console.log(stageArray5);
						  	console.log(stageArray6);

						  	for (i in data)

						  	$("#stages-stage1").text(stageArray1.length);
						  	$("#stages-stage2").text(stageArray2.length);
						  	$("#stages-stage3").text(stageArray3.length);
						  	$("#stages-stage4").text(stageArray4.length);
						  	$("#stages-stage5").text(stageArray5.length);
						  	$("#stages-stage6").text(stageArray6.length);
						  	
						  	// switch(data[i][1]) {
						  	// 	case 'appointmentscheduled':
						  	// 		completionPercentage += 10;
						  	// 		$('#row'+i).append('<td>10%</td>');
						  	// 		$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  // 		for (let step = 0; step < 5; step++) {
							  // 			$('#row'+i).append('<td></td>');
							  // 		}

						  	// 	break;

						  	// 	case 'qualifiedtobuy':
						  	// 		completionPercentage += 20;
						  	// 		$('#row'+i).append('<td>20%</td>');
						  	// 		$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

						  	// 		$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  // 		for (let step = 0; step < 4; step++) {
							  // 			$('#row'+i).append('<td></td>');
							  // 		}
							  		
							  // 	break;

						  	// 	case 'presentationscheduled':
						  	// 		completionPercentage += 40;
						  	// 		$('#row'+i).append('<td>40%</td>');
						  	// 		for (let step = 0; step < 2; step++) {
							  // 			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  // 		}

						  	// 		$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  // 		for (let step = 0; step < 3; step++) {
							  // 			$('#row'+i).append('<td></td>');
							  // 		}
							  		
						  	// 	break;

						  	// 	case 'decisionmakerboughtin':
						  	// 		completionPercentage += 60;
						  	// 		$('#row'+i).append('<td>60%</td>');
						  	// 		for (let step = 0; step < 3; step++) {
							  // 			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  // 		}

						  	// 		$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  // 		for (let step = 0; step < 2; step++) {
							  // 			$('#row'+i).append('<td></td>');
							  // 		}
							  		
						  	// 	break;

						  	// 	case 'contractsent':
						  	// 		completionPercentage += 80;
						  	// 		$('#row'+i).append('<td>80%</td>');
						  	// 		for (let step = 0; step < 4; step++) {
							  // 			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  // 		}

						  	// 		$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  // 		for (let step = 0; step < 1; step++) {
							  // 			$('#row'+i).append('<td><div class="progress progress-stages" style="display: none;"> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div> </div></td>');
							  // 		}
							  		
						  	// 	break;

						  	// 	case 'closedwon':
						  	// 		completionPercentage += 100;
						  	// 		$('#row'+i).append('<td>100%</td>');
						  	// 		for (let step = 0; step < 6; step++) {
							  // 			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  // 		}
							  		

						  	// 		// $('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  // 		// for (let step = 0; step < 1; step++) {
							  // 		// 	$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div> </div></td>');
							  // 		// }
						  	// 	break;

						  	// 	case 'closedlost':
						  	// 		completionPercentage += 0;
						  	// 		$('#row'+i).append('<td>0%</td>');
						  	// 		for (let step = 0; step < 6; step++) {
							  // 			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-warning" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  // 		}

						  	// 		// $('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  // 		// for (let step = 0; step < 1; step++) {
							  // 		// 	$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div> </div></td>');
							  // 		// }
						  	// 	break;

						  	// }
				  		
				  	} else if(paged == data[i][3] && !year && !month) {
				  		console.log("----------");
				  		console.log("Init: sales person selected");
				  		console.log("----------");


				  		// console.log("arr: "+arrtest[0]);
				  		// console.log("arr: "+arrtest[1]);

				  			switch(data[i][1]) {
					  			case 'closedwon':
						  			amountOmsatt += parseInt(data[i][2]);
						  			amountEstimert += parseInt(data[i][2]);
					  			break;

					  			case 'closedlost':
					  				amountLost += parseInt(data[i][2]);
					  			break;

					  			default:
					  				amountEstimert += parseInt(data[i][2]);
					  				amountPotensial += parseInt(data[i][2]);
					  			break;
					  		}

					  		console.log("owner: "+data[i][3] + " customer: "+data[i][0]);
				  			$('#tbl-customers').append('<tr style="cursor: pointer;" onclick="selectDeal('+data[i][4]+')" class="'+data[i][3]+'" id="row'+i+'"><th scope="row">'+data[i][0]+'</th>');

				  			$("#stages-stage1").text(stageArray1.length);
						  	$("#stages-stage2").text(stageArray2.length);
						  	$("#stages-stage3").text(stageArray3.length);
						  	$("#stages-stage4").text(stageArray4.length);
						  	$("#stages-stage5").text(stageArray5.length);
						  	$("#stages-stage6").text(stageArray6.length);

						  	// switch(data[i][1]) {
						  	// 	case 'appointmentscheduled':
						  	// 		completionPercentage += 10;
						  	// 		$('#row'+i).append('<td>10%</td>');
						  	// 		$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  // 		for (let step = 0; step < 5; step++) {
							  // 			$('#row'+i).append('<td></td>');
							  // 		}

						  	// 	break;

						  	// 	case 'qualifiedtobuy':
						  	// 		completionPercentage += 20;
						  	// 		$('#row'+i).append('<td>20%</td>');
						  	// 		$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

						  	// 		$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  // 		for (let step = 0; step < 4; step++) {
							  // 			$('#row'+i).append('<td></td>');
							  // 		}
							  		
							  // 	break;

						  	// 	case 'presentationscheduled':
						  	// 		completionPercentage += 40;
						  	// 		$('#row'+i).append('<td>40%</td>');
						  	// 		for (let step = 0; step < 2; step++) {
							  // 			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  // 		}

						  	// 		$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  // 		for (let step = 0; step < 3; step++) {
							  // 			$('#row'+i).append('<td></td>');
							  // 		}
							  		
						  	// 	break;

						  	// 	case 'decisionmakerboughtin':
						  	// 		completionPercentage += 60;
						  	// 		$('#row'+i).append('<td>60%</td>');
						  	// 		for (let step = 0; step < 3; step++) {
							  // 			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  // 		}

						  	// 		$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  // 		for (let step = 0; step < 2; step++) {
							  // 			$('#row'+i).append('<td></td>');
							  // 		}
							  		
						  	// 	break;

						  	// 	case 'contractsent':
						  	// 		completionPercentage += 80;
						  	// 		$('#row'+i).append('<td>80%</td>');
						  	// 		for (let step = 0; step < 4; step++) {
							  // 			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  // 		}

						  	// 		$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  // 		for (let step = 0; step < 1; step++) {
							  // 			$('#row'+i).append('<td><div class="progress progress-stages" style="display: none;"> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div> </div></td>');
							  // 		}
							  		
						  	// 	break;

						  	// 	case 'closedwon':
						  	// 		completionPercentage += 100;
						  	// 		$('#row'+i).append('<td>100%</td>');
						  	// 		for (let step = 0; step < 6; step++) {
							  // 			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  // 		}
							  		

						  	// 		// $('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  // 		// for (let step = 0; step < 1; step++) {
							  // 		// 	$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div> </div></td>');
							  // 		// }
						  	// 	break;

						  	// 	case 'closedlost':
						  	// 		completionPercentage += 0;
						  	// 		$('#row'+i).append('<td>0%</td>');
						  	// 		for (let step = 0; step < 6; step++) {
							  // 			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-warning" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  // 		}

						  	// 		// $('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  // 		// for (let step = 0; step < 1; step++) {
							  // 		// 	$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div> </div></td>');
							  // 		// }
						  	// 	break;

						  	// }
				  	} else if (paged == 0 && dates[2] == year && !month) {
				  		console.log("----------");
				  		console.log("Init: year selected");
				  		console.log("----------");
				  		var arrtest = [];
				  		
				  		// arrtest[1] = "changed";

				  		// globalGraphArray[dates[1]-1] = globalGraphArray[dates[1]] + parseInt(data[i][2]);
				  		if (!globalGraphArray[dates[1]-1]) {
				  			globalGraphArray[dates[1]-1] =  parseInt(data[i][2]);
				  		} else {
				  			globalGraphArray[dates[1]-1] = Math.round(parseInt(globalGraphArray[dates[1]-1]) + parseInt(data[i][2]));
				  		}
				  		


				  		// console.log(dates[1]-1+" arr: "+ Math.round(parseInt(globalGraphArray[dates[1]-1]) + parseInt(data[i][2])));
				  		console.log(globalGraphArray);
				  		// console.log("arr: "+arrtest[1]);

				  		switch(data[i][1]) {
					  			case 'closedwon':
						  			amountOmsatt += parseInt(data[i][2]);
						  			amountEstimert = parseInt(data[i][2]);
					  			break;

					  			case 'closedlost':
					  				amountLost += parseInt(data[i][2]);
					  			break;

					  			default:
					  				amountEstimert += parseInt(data[i][2]);
					  				amountPotensial += parseInt(data[i][2]);
					  			break;
					  		}

					  		$('#tbl-customers').append('<tr style="cursor: pointer;" onclick="selectDeal('+data[i][4]+')" class="'+data[i][3]+'" id="row'+i+'"><th scope="row">'+data[i][0]+'</th>');
						  	console.log(stageArray1);
						  	console.log(stageArray2);
						  	console.log(stageArray3);
						  	console.log(stageArray4);
						  	console.log(stageArray5);
						  	console.log(stageArray6);

						  	$("#stages-stage1").text(stageArray1.length);
						  	$("#stages-stage2").text(stageArray2.length);
						  	$("#stages-stage3").text(stageArray3.length);
						  	$("#stages-stage4").text(stageArray4.length);
						  	$("#stages-stage5").text(stageArray5.length);
						  	$("#stages-stage6").text(stageArray6.length);

				  	// } else if (paged == 0 && dates[2] == year && dates[1] == month ) {
				  	// 	console.log("----------");
				  	// 	console.log("Init: year and month selected");
				  	// 	console.log("----------");

				  	// 	switch(data[i][1]) {
					  // 			case 'closedwon':
						 //  			amountOmsatt += parseInt(data[i][2]);
						 //  			amountEstimert = parseInt(data[i][2]);
					  // 			break;

					  // 			case 'closedlost':
					  // 				amountLost += parseInt(data[i][2]);
					  // 			break;

					  // 			default:
					  // 				amountEstimert += parseInt(data[i][2]);
					  // 				amountPotensial += parseInt(data[i][2]);
					  // 			break;
					  // 		}

					  // 		$('#tbl-customers').append('<tr style="cursor: pointer;" onclick="selectDeal('+data[i][4]+')" class="'+data[i][3]+'" id="row'+i+'"><th scope="row">'+data[i][0]+'</th>');
						 //  	console.log(stageArray1);
						 //  	console.log(stageArray2);
						 //  	console.log(stageArray3);
						 //  	console.log(stageArray4);
						 //  	console.log(stageArray5);
						 //  	console.log(stageArray6);

						 //  	$("#stages-stage1").text(stageArray1.length);
						 //  	$("#stages-stage2").text(stageArray2.length);
						 //  	$("#stages-stage3").text(stageArray3.length);
						 //  	$("#stages-stage4").text(stageArray4.length);
						 //  	$("#stages-stage5").text(stageArray5.length);
						 //  	$("#stages-stage6").text(stageArray6.length);
					} else if (paged == 0 && dates[2] == year && dates[1] == month) {

					} else if (paged == 0 && dates[2] == year && dates2[1] == month) {

					}  else if (paged == data[i][3] && dates[2] == year && dates[1] == month) {
				  		console.log("----------");
				  		console.log("Init: salesrep, year and month selected");
				  		console.log("----------");
				  		// console.log("default2");
				  		
				  		console.log("var: "+data[i][1]);
				  		switch(data[i][1]) {
					  			case 'closedwon':
						  			amountOmsatt += parseInt(data[i][2]);
						  			amountEstimert = parseInt(data[i][2]);
					  			break;

					  			case 'closedlost':
					  				amountLost += parseInt(data[i][2]);
					  			break;

					  			default:
					  				console.log("d1: "+dates2[1]);
					  				console.log("d2: "+dates[1]);
					  				console.log("dd: "+parseInt(dates[1]+1));

					  				// if (dates[1] == month) {
					  				// 	amountPotensial += parseInt(data[i][2]);
					  				// }
					  				amountPotensial += parseInt(data[i][2]);
					  				
					  				// if (dates2[1] == month) {
					  				// 	amountPotensial += parseInt(data[i][2]);
					  				// } else if(dates[1] == month) {
					  				// 	amountPotensial += parseInt(data[i][2]);
					  				// } else {
					  				// 	console.log("outside scope");
					  				// 	//console.log(amountPotensial);
					  				// }

					  				amountEstimert += parseInt(data[i][2]);
					  				
					  			break;
					  		}

					  		$('#tbl-customers').append('<tr style="cursor: pointer;" onclick="selectDeal('+data[i][4]+')" class="'+data[i][3]+'" id="row'+i+'"><th scope="row">'+data[i][0]+'</th>');
						  	console.log(stageArray1);
						  	console.log(stageArray2);
						  	console.log(stageArray3);
						  	console.log(stageArray4);
						  	console.log(stageArray5);
						  	console.log(stageArray6);

						  	$("#stages-stage1").text(stageArray1.length);
						  	$("#stages-stage2").text(stageArray2.length);
						  	$("#stages-stage3").text(stageArray3.length);
						  	$("#stages-stage4").text(stageArray4.length);
						  	$("#stages-stage5").text(stageArray5.length);
						  	$("#stages-stage6").text(stageArray6.length);

					} else if (paged == data[i][3] && dates[2] == year && dates2[1] == month) {
				  		console.log("----------");
				  		console.log("Init: salesrep, year and month selected");
				  		console.log("----------");
				  		// console.log("default2");
				  		
				  		console.log("var: "+data[i][1]);
				  		switch(data[i][1]) {
					  			case 'closedwon':
						  			amountOmsatt += parseInt(data[i][2]);
						  			amountEstimert = parseInt(data[i][2]);
					  			break;

					  			case 'closedlost':
					  				amountLost += parseInt(data[i][2]);
					  			break;

					  			default:
					  				console.log("d1: "+dates2[1]);
					  				console.log("d2: "+dates[1]);
					  				console.log("dd: "+parseInt(dates[1]+1));
					  				amountPotensial += parseInt(data[i][2]);
					  				// if (dates2[1] > month) {
					  				// 	amountPotensial += parseInt(data[i][2]);
					  				// }

					  				
					  				// if (dates2[1] == month) {
					  				// 	amountPotensial += parseInt(data[i][2]);
					  				// } else if(dates[1] == month) {
					  				// 	amountPotensial += parseInt(data[i][2]);
					  				// } else {
					  				// 	console.log("outside scope");
					  				// 	//console.log(amountPotensial);
					  				// }

					  				amountEstimert += parseInt(data[i][2]);
					  				
					  			break;
					  		}

					  		$('#tbl-customers').append('<tr style="cursor: pointer;" onclick="selectDeal('+data[i][4]+')" class="'+data[i][3]+'" id="row'+i+'"><th scope="row">'+data[i][0]+'</th>');
						  	console.log(stageArray1);
						  	console.log(stageArray2);
						  	console.log(stageArray3);
						  	console.log(stageArray4);
						  	console.log(stageArray5);
						  	console.log(stageArray6);

						  	$("#stages-stage1").text(stageArray1.length);
						  	$("#stages-stage2").text(stageArray2.length);
						  	$("#stages-stage3").text(stageArray3.length);
						  	$("#stages-stage4").text(stageArray4.length);
						  	$("#stages-stage5").text(stageArray5.length);
						  	$("#stages-stage6").text(stageArray6.length);
						  		  	
				  	} else if (paged == data[i][3] && dates[2] == year && !month) {
				  		console.log("----------");
				  		console.log("Init: sales person selected and year");
				  		console.log("----------");

				  		// if (dates[2] == '2019') {
				  			switch(data[i][1]) {
					  			case 'closedwon':
						  			amountOmsatt += parseInt(data[i][2]);
						  			amountEstimert = parseInt(data[i][2]);
					  			break;

					  			case 'closedlost':
					  				amountLost += parseInt(data[i][2]);
					  			break;

					  			default:
					  				amountEstimert += parseInt(data[i][2]);
					  				amountPotensial += parseInt(data[i][2]);
					  			break;
					  		}

					  		$('#tbl-customers').append('<tr style="cursor: pointer;" onclick="selectDeal('+data[i][4]+')" class="'+data[i][3]+'" id="row'+i+'"><th scope="row">'+data[i][0]+'</th>');
						  	console.log(stageArray1);
						  	console.log(stageArray2);
						  	console.log(stageArray3);
						  	console.log(stageArray4);
						  	console.log(stageArray5);
						  	console.log(stageArray6);

						  	$("#stages-stage1").text(stageArray1.length);
						  	$("#stages-stage2").text(stageArray2.length);
						  	$("#stages-stage3").text(stageArray3.length);
						  	$("#stages-stage4").text(stageArray4.length);
						  	$("#stages-stage5").text(stageArray5.length);
						  	$("#stages-stage6").text(stageArray6.length);
						  	
						  	
				  	}

				  	
						  	
						  	switch(data[i][1]) {
						  		case 'appointmentscheduled':
						  			completionPercentage += 10;
						  			$('#row'+i).append('<td>10%</td>');
						  			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  		for (let step = 0; step < 5; step++) {
							  			$('#row'+i).append('<td></td>');
							  		}

						  		break;

						  		case 'qualifiedtobuy':
						  			completionPercentage += 20;
						  			$('#row'+i).append('<td>20%</td>');
						  			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

						  			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  		for (let step = 0; step < 4; step++) {
							  			$('#row'+i).append('<td></td>');
							  		}
							  		
							  	break;

						  		case 'presentationscheduled':
						  			completionPercentage += 40;
						  			$('#row'+i).append('<td>40%</td>');
						  			for (let step = 0; step < 2; step++) {
							  			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  		}

						  			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  		for (let step = 0; step < 3; step++) {
							  			$('#row'+i).append('<td></td>');
							  		}
							  		
						  		break;

						  		case 'decisionmakerboughtin':
						  			completionPercentage += 60;
						  			$('#row'+i).append('<td>60%</td>');
						  			for (let step = 0; step < 3; step++) {
							  			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  		}

						  			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  		for (let step = 0; step < 2; step++) {
							  			$('#row'+i).append('<td></td>');
							  		}
							  		
						  		break;

						  		case 'contractsent':
						  			completionPercentage += 80;
						  			$('#row'+i).append('<td>80%</td>');
						  			for (let step = 0; step < 4; step++) {
							  			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  		}

						  			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');

							  		for (let step = 0; step < 1; step++) {
							  			$('#row'+i).append('<td><div class="progress progress-stages" style="display: none;"> <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div> </div></td>');
							  		}
							  		
						  		break;

						  		case 'closedwon':
						  			completionPercentage += 100;
						  			$('#row'+i).append('<td>100%</td>');
						  			for (let step = 0; step < 6; step++) {
							  			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-success" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  		}
							  		
						  		break;

						  		case 'closedlost':
						  			completionPercentage += 0;
						  			$('#row'+i).append('<td>0%</td>');
						  			for (let step = 0; step < 6; step++) {
							  			$('#row'+i).append('<td><div class="progress progress-stages" style=""> <div class="progress-bar  bg-warning" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div></td>');
							  		}
						  		break;

						  	}


						  	var pos = dealOwnerName.map(function(e) { 
					                return e.ID; 
					            }).indexOf(data[i][3]);

					         console.log(i + " row id: "+data[i][3]); 
					        var dateCreated = new Date(parseInt(data[i][5])); //(parseInt(data[i][5])).toLocaleDateString("nb-NO")
						  	var dateClosed = new Date(parseInt(data[i][6]));

						  	$('#row'+i).append('<td style="">'+data[i][3]+'</td>');
						  	$('#row'+i).append('<td style="">'+data[i][2]+'</td>');

						  	$('#row'+i).append('<td style="">'+("0" + (dateCreated.getMonth() + 1)).slice(-2)+'.'+dateCreated.getFullYear()+'</td>');
						  	$('#row'+i).append('<td style="">'+("0" + (dateClosed.getMonth() + 1)).slice(-2)+'.'+dateClosed.getFullYear()+'</td>');

				  	console.log("timestamp: "+data[i][5]);
				  	console.log("timestamp-h: "+new Date(parseInt(data[i][5])).toLocaleDateString("nb-NO"));
				  	$('#tbl-customers').append('</tr>');
				  }

				  	// var currencyString = ;
				  	
				  	$("#amountOmsatt").text((amountOmsatt).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$& ').slice(0, -3));
				  	$("#amountOmsatt").append("<span> NOK</span>");

				  	// var amountPercentageRaw = $('#stages-stageZ').text();
				  	// var amountPercentage = amountPercentageRaw.substring(0, amountPercentageRaw.length - 1);
				  	var countPercentage = Math.round(completionPercentage/data.length);
				  	var amountPercentage = "1."+countPercentage;
				  	// console.log("times: "+amountPercentageRaw);
				  	console.log("calc: "+ Math.round(amountPotensial + amountOmsatt * amountPercentage));

				  	$("#amountEstimert").text((Math.round(amountPotensial + amountOmsatt * amountPercentage)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$& ').slice(0, -3));
				  	$("#amountEstimert").append("<span> NOK</span>");

				  	$("#amountLost").text((amountLost).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$& ').slice(0, -3));
				  	$("#amountLost").append("<span> NOK</span>");

				  	$("#amountPotensial").text((Math.round(amountPotensial)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$& ').slice(0, -3));
				  	$("#amountPotensial").append("<span> NOK</span>");

				  	
				  	
				  	console.log("percentage: "+amountPercentage);

				  	$(".overlay").fadeOut();
				  	var countCustomers = $("#tbl-customers tr").length;
					$("#stages-customers").text(countCustomers);
					$("#stages-stageZ").text(countPercentage + "%");
					// console.log("empty: "+$('#tbl-customers tr td:not(:empty)').length);
					//console.log("empty: "+$('#tbl-customers tr td:(empty)').length);
				});
				$('#tbl-customers').empty();
				$.get( "/api/pipelines", function( data ) {
				  console.log(data);
				  for (i in data) {
				  	// console.log("name: "+data[i]);
				  	// console.log("stage: "+data[i]);
				  	$('#th-pipeline'+data[i][0]).text(data[i][1]);
				  }
				});
				
				
			}

			function selectSalesPerson(owner, name) { //39774936
				$("#dropdownMenuButtonSales").text(name);
				globalSalesRepSelected = owner;
				loadData(globalSalesRepSelected, globalSalesYearSelected, globalSalesMonthSelected);
			}

			function selectSalesPersonBeta(owner, name) { //39774936
				$("#dropdownMenuButtonSales").text(name);
				// globalSalesRepSelected = owner;
				// loadData(globalSalesRepSelected, globalSalesYearSelected, globalSalesMonthSelected);
				// $('#table-filter-input').val(name).change();
				// $('#table-filter-input').trigger('keyup');
				// $("#table-filter-input").change();

				// $("#table-filter-input").on("change", function() { 
		  //           alert('Text content changed!'); 
		  //       }); 
		  		var inputFilter = document.getElementById('table-filter-input');
		  		inputFilter.addEventListener('input', function() {
				  // console.log('it works!');
				})
				$('#table-filter-input').val($('#table-filter-input').val() + owner);
				inputFilter.dispatchEvent(new Event('input'));
			}

			function selectSalesPeriode(year, month, monthname) {
				

				if (!month) {
					globalSalesYearSelected = year;
					globalSalesMonthSelected = month;
					$("#dropdownMenuButtonPeriode").text(year);
				} else {
					globalSalesYearSelected = year;
					globalSalesMonthSelected = month;
					$("#dropdownMenuButtonPeriode").text(monthname+" "+year);
				}
				loadData(globalSalesRepSelected, globalSalesYearSelected, globalSalesMonthSelected);
			}

			function selectDeal(deal) {
				$.get( "/api/deal/"+deal, function( data ) {
				  console.log(data);

				  $('#dealId').text(deal);
				  $('#dealname').text(data[0]);
				  $('#dealcreated').text(new Date(parseInt(data[1])).toLocaleDateString("nb-NO"));
				  $('#dealamount').text((parseInt(data[2])).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$& ').slice(0, -3));
				  $('#dealamount').append('<small> NOK</small>');
				  $('#dealstage').text(data[3]);

				  for (i in salesrepArr) {
				  	// console.log("i loop: "+salesrepArr[i][0]);

				  	if ( data[6] == salesrepArr[i][0]) {
				  		console.log("salesid: "+salesrepArr[i][0]);
				  		console.log("salesrep: "+salesrepArr[i][1]);
				  		
				  		$('#dealkam').empty();
				  		$('#dealkam').append('<button type="button" class="btn btn-secondary pulse-button" style="text-align: left; color: #fff;" onclick="loadData('+salesrepArr[i][0]+');">'+salesrepArr[i][1]+'</button>');
				  	
				  	} else {

				  	}
				  }
				  

				  if (data[3] == "closedwon") {
				  	$('#dealstage').text("Vunnet");
				  } else if (data[3] == "closedlost") {
				  	$('#dealstage').text("Tapt");
				  } else {
				  	$('#dealstage').text("Pågående");
				  }

				  $('#dealclosed').text(new Date(parseInt(data[5])).toLocaleDateString("nb-NO"));


				  $('#modalStageStatus').removeClass('bg-success');
				  $('#modalStageStatus').removeClass('bg-info');
				  $('#modalStageStatus').removeClass('bg-warning');

				  if (data[3] == "closedwon") {
				  	$('#modalStageStatus').addClass('bg-success');
				  	$('#dealclosedtitle').text("Lukket: ");
				  	$('#rowDealProbability').hide();
				  } else if (data[3] == "closedlost") {
				  	$('#modalStageStatus').addClass('bg-warning');
				  	$('#dealclosedtitle').text("Lukket: ");
				  	$('#rowDealProbability').hide();
				  } else {
				  	$('#modalStageStatus').addClass('bg-info');
				  	$('#dealclosedtitle').text("Forventet lukket: ");
				  }

				  $('#dealprobability').text(roundToTwo(data[4]) + "");

				});

				$('#dealModal').modal('toggle');
				
			}

			function sortByYear(year) {
				console.log("selected year: "+year);
			}

			function roundToTwo(num) {    
			    return +(Math.round(num + "e+2")  + "e-2");
			}
		</script>
	</head>
	<body>
		<div class="overlay fixed-top" style="padding-top: 25%;">
			<h1 style="margin-top: -5%; text-align: center; color: #F46B50;">HubSpot Sales Merge</h1><br>
			<h4 style="text-align: center; color: #fff !important; opacity: 0.8;">by <img src="img/logo_full.png" style="height: 50px;" /></h4>
			<div class="loader" style="">
			    <svg class="circular">
			        <circle class="path" fill="none" r="20" cx="50" cy="50" stroke-width="3" stroke-miterlimit="10"/>
			    </svg>
			</div>
		</div>

		<!-- Modal -->
		<div class="modal fade" id="dealModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" >
		  <div class="modal-dialog modal-dialog-centered" role="document">
		    <div class="modal-content" style="background-color: #283848; color: #fff;">
		      <div class="modal-header">
		        <h5 class="modal-title" id="exampleModalLongTitle"><span id="dealname">Dealnavn</span> <span id="dealId" style="font-size: 10px;"></span></h5>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      <div class="modal-body" >
		      	<div class="progress progress-stages" style=""> <div id="modalStageStatus" class="progress-bar bg-info progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div> </div>
		      	<br>
		        <table class="table table-hover">
		        	<tbody style="color: #fff;">
		        		<tr >
		        			<td style="padding-top: 20px; border-bottom: 1px solid #ccc !important;">Salgsansvarlig:</td>
		        			<td id="dealkam" style="border-bottom: 1px solid #ccc !important;"></td>
		        		</tr>
		        		<tr>
		        			<td>Beløp:</td>
		        			<td id="dealamount"></td>
		        		</tr>
		        		<tr>
		        			<td>Opprettet:</td>
		        			<td id="dealcreated"></td>
		        		</tr>
		        		<tr>
		        			<td id="dealclosedtitle">Forventet lukket:</td>
		        			<td id="dealclosed"></td>
		        		</tr>
		        		<tr>
		        			<td>Status:</td>
		        			<td id="dealstage"></td>
		        		</tr>
		        		<tr id="rowDealProbability">
		        			<td>Sannsynlighet for avtale:</td>
		        			<td id="dealprobability"></td>
		        		</tr>
		        	</tbody>
		        </table>

		        <!-- <button style="width: 100%; color: #fff; background-color: #F46B50;" class="btn btn-primary" type="button" data-toggle="collapse" data-target="#customerCommunication" aria-expanded="false" aria-controls="customerCommunication">Vis kundekontakt</button> -->
		      </div>

		      <div class="collapse multi-collapse" id="customerCommunication" style="margin-left: 25px; margin-right: 25px; padding: 15px; border: 1px solid #F46B50;">
			      <small style="padding-left: 5px; padding-right: 5px; border-bottom: 1px solid #ccc;">29.11.2019 | Astrid Olsson</small>
			      <br><br>
			      <p>Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.</p>
			      
			    </div>

		      <div class="modal-footer">
		        <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
		        <button type="button" class="btn btn-primary" style="color: #F46B50;" onclick="$('#dealModal').modal('toggle');">Lukk</button>
		      </div>
		    </div>
		  </div>
		</div>

		<div class="fixed-top">
			<nav class="navbar navbar-light justify-content-betweenp" style="background-color: #283848; border-top: 2px solid #F46B50; color: #fff !important;">
			  <img src="img/logo.png" style="height: 50px; width: 50px; float: left;" />
			  <h4 style="left: 80; position: absolute; float: left !important; margin-top: 2px;">HubSpot Sales Merge</h4>
			  <!-- <a class="navbar-brand" style="float: left !important;">HubSpot Sales Merge</a> -->
			  <div class="md-chip">
      Hello World
    </div>
			  <form class="form-inline">
			    <!-- <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
			    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button> -->
			  </form>
			</nav>

			<nav class="navbar navbar-light bg-light justify-content-between" style="background-color: #ededed !important;">
			  <a class="navbar-brand"></a>
			  <form class="form-inline" style="padding-right: 120px;">
			  	<div class="btn-group">
				  <!--<label class="btn-label">Selgere </label>-->
				  <div class="btn-group" style="margin-left: 10px;">
				  <!--<label class="btn-label">Periode </label>-->
				  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButtonLand" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				    Land
				  </button>
				 <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButtonLand">
				    <a class="dropdown-item" href="#" onclick="selectCountry('all')">Alle</a>
				    <a class="dropdown-item" href="#" onclick="selectCountry('nor')">Norge</a>
				    <a class="dropdown-item" href="#" onclick="selectSalesPeriode('swe')">Sverige</a>
				  </div>
				</div>

				  <div class="btn-group">
				  <!--<label class="btn-label">Selgere </label>-->
				  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButtonSales" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				    Selgere
				  </button>
				  <div id="sales-persons" class="dropdown-menu dropdown-menu-right" style="max-height: 400px; overflow: scroll;" aria-labelledby="dropdownMenuButtonSales">
				  	<div class="col-12" style="">
				  		<div class="form-group" style="width: 100%;">
						    <input type="text" id="search-persons" class="form-control" style="padding-left: 5px;width: 100%; border: 0;" aria-describedby="" placeholder="Selger">
						</div>
				  	</div>
				  	<div class="dropdown-divider"></div>
				    
				  </div>
				</div>

			    <div class="btn-group" style="margin-left: 10px;">

				  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButtonPeriode" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				    Periode
				  </button>
				 <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButtonPeriode" style="max-height: 600px; overflow: auto;">
				    <!-- <a class="dropdown-item" href="#" onclick="selectSalesPeriode('2020', '10')">2020</a> -->
				    <!-- <a class="dropdown-item" href="javascript:void(0);" onclick="selectSalesPeriode('0', '', 'He')">Alle perioder</a> -->
				    <a class="dropdown-item" href="javascript:void(0);" onclick="$('.menu-2019').slideToggle(); event.stopPropagation(); ">2019 <i id="" class="material-icons" style="font-size: 15px;"> keyboard_arrow_down </i></a>
				    <div class="menu-2019" style="width: 100%;display: none;">
				    	<div class="dropdown-divider"></div>

				    	<a class="dropdown-item active" href="#" onclick="selectSalesPeriode('2019', '', 'Hele året')">Hele året</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2019', '1', 'Januar')">Januar</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2019', '2', 'Februar')">Februar</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2019', '3', 'Mars')">Mars</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2019', '4', 'April')">April</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2019', '5', 'Mai')">Mai</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2019', '6', 'Juni')">Juni</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2019', '7', 'Juli')">Juli</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2019', '8', 'August')">August</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2019', '9', 'September')">September</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2019', '10', 'Oktober')">Oktober</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2019', '11', 'November')">November</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2019', '12', 'Desember')">Desember</a>
				    </div>
				    <!-- <a class="dropdown-item" href="#" onclick="selectSalesPeriode('2019', '11')">Nov: 2019</a> -->
				    <a class="dropdown-item" href="javascript:void(0);" onclick="$('.menu-2018').slideToggle(); event.stopPropagation(); ">2018 <i id="" class="material-icons" style="font-size: 15px;"> keyboard_arrow_down </i></a>
				    <div class="menu-2018" style="width: 100%;display: none;">
				    	<div class="dropdown-divider"></div>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2018')">Hele året</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2018', '1')">Januar</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2018', '2')">Februar</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2018', '3')">Mars</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2018', '4')">April</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2018', '5')">Mai</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2018', '6')">Juni</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2018', '7')">Juli</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2018', '8')">August</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2018', '9')">September</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2018', '10')">Oktober</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2018', '11')">November</a>
				    	<a class="dropdown-item" href="#" onclick="selectSalesPeriode('2018', '12')">Desember</a>
				    </div>
				    <!-- <a class="dropdown-item" href="#" onclick="selectSalesPeriode('2017')">2017</a> -->
				  </div>
				</div>
			  </form>
			</nav>
		</div>
		<div class="row" style="height: 200px; margin: 0; margin-top: 200px;">

			<div class="col-3 post-vertical-parent" style="height: 100% !important; ">
				<div class="card post-vertical-child bg-success">
					<div class="card-body">
						<div class="card-body-top" style="color: #fff;">Omsatt</div>
						<div id="amountOmsatt" class="card-body-bottom font-worksans" style="color: #fff; ">
							<div class="loader" style="margin-top: -10px;">
							    <svg class="circular">
							        <circle class="path" fill="none" r="20" cx="50" cy="50" stroke-width="3" stroke-miterlimit="10"/>
							    </svg>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="col-3 post-vertical-parent" style="height: 100% !important; ">
				<div class="card post-vertical-child" style="background-color: #283848;">
					<div class="card-body">
						<div class="card-body-top" style="color: #fff;">Potensiell omsettning</div>
						<div id="amountPotensial" class="card-body-bottom font-worksans " style="color: #fff;">
							<div class="loader" style="margin-top: -10px;">
							    <svg class="circular">
							        <circle class="path" fill="none" r="20" cx="50" cy="50" stroke-width="3" stroke-miterlimit="10"/>
							    </svg>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="col-3 post-vertical-parent" style="height: 100% !important; ">
				<div class="card post-vertical-child bg-warning">
					<div class="card-body">
						<div class="card-body-top" style="color: #fff;">Tapt omsettning</div>
						<div id="amountLost" style="color: #fff;" class="card-body-bottom font-worksans ">
							<div class="loader" style="margin-top: -10px;">
							    <svg class="circular">
							        <circle class="path" fill="none" r="20" cx="50" cy="50" stroke-width="3" stroke-miterlimit="10"/>
							    </svg>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="col-3 post-vertical-parent" style="height: 100% !important; ">
				<div class="card post-vertical-child bg-info">
					<div class="card-body" >
						<div class="card-body-top" style="color: #fff;">Estimert</div>
						<div id="amountEstimert" style="color: #fff;" class="card-body-bottom font-worksans ">
							<div class="loader" style="margin-top: -10px;">
							    <svg class="circular">
							        <circle class="path" fill="none" r="20" cx="50" cy="50" stroke-width="3" stroke-miterlimit="10"/>
							    </svg>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="btn-graph-holder" style="width: 100%; height: 50px; ">
			<button type="button" class="btn btn-secondary" style="width: 100%; border-bottom: 1px solid #ccc;" onclick="actionToggleGraph();">Vis graf</button>
		</div>
		
		<div class="row" id="graph-view" style="margin: 0; margin-top: 20px; height: 300px; display: none;">
			<div class="col-12" style="">
				<canvas id="barChart"></canvas>
				<div class="col-12" style="height: 40px; border-bottom: 1px solid #ccc; padding-left: 55px; padding-right: 55px; text-align: center; color: #F46B50; ">
					<div class="col-1" style="float: left;">Januar</div>
					<div class="col-1" style="float: left;">Februar</div>
					<div class="col-1" style="float: left;">Mars</div>
					<div class="col-1" style="float: left;">April</div>
					<div class="col-1" style="float: left;">Mai</div>
					<div class="col-1" style="float: left;">Juni</div>
					<div class="col-1" style="float: left;">Juli</div>
					<div class="col-1" style="float: left;">August</div>
					<div class="col-1" style="float: left;">September</div>
					<div class="col-1" style="float: left;">Oktober</div>
					<div class="col-1" style="float: left;">November</div>
					<div class="col-1" style="float: left;">Desember</div>
				</div>
			</div>
		</div>
		<br>
		<div class="row" style="margin: 0; margin-top: 40px;">
			<div class="col-10" style="float: right; padding-left: 22px; font-size: 25px;">Kunder i Salespipe</div>
			<div class="col-10" style="float: left; padding-left: 22px;">
				<input type="text" id="table-filter-input" placeholder="Filters" class="form-control" value=''> 
			</div>
			<div class="col-2" style="float: right;">
				<button type="button" onclick="actionToggleTable()" style="display:inline-block; float: right;" class="btn btn-secondary">
					<i id="table-icon" class="material-icons"> keyboard_arrow_down </i>
				</button>
				
			</div>
			<div class="col-12" style="margin: 0 auto;">
		      <table class="table table-hover">
				  <thead style="color: #fff !important; " >
				    <tr id="tbl-pipeline" style="">
				    	<!-- check if sale is lost, add lost sale in column next to progress -->
				      <th scope="col" style="width: 500px;"></th>
				      <th id="th-pipelineZ" class="poorreadingpeeps" scope="col" style="width: 50px;">%</th>
				      <th id="th-pipeline0" class="poorreadingpeeps" scope="col" style="width: 120px;"></th>
				      <th id="th-pipeline1" class="poorreadingpeeps" scope="col" style="width: 180px;"></th>
				      <th id="th-pipeline2" class="poorreadingpeeps" scope="col" style="width: 250px;"></th>
				      <th id="th-pipeline3" class="poorreadingpeeps" scope="col" style="width: 250px;"></th>
				      <th id="th-pipeline4" class="poorreadingpeeps" scope="col" style="width: 50px;"></th>
				      <th id="th-pipeline5" class="poorreadingpeeps" scope="col" style="width: 150px;"></th>
				      <!-- if/else Lukket / tapt salg -->
				    </tr>
				  </thead>
				  <tbody id="tbl-customers" style="display: none;">
				    <!-- <tr>
				      <th scope="row">Synlighet AB</th>
				      <td style="margin: 0;">
				      	<div class="progress progress-stages">
						  <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
						</div>
				      </td>
				      <td style="margin: 0;">
				      	<div class="progress progress-stages">
						  <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
						</div>
				      </td>
				      <td style="margin: 0;">
				      	<div class="progress progress-stages">
						  <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 20%"></div>
						</div>
				      </td>
				      <td style="margin: 0;">
				      	<div class="progress progress-stages">
						  <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
						</div>
				      </td>
				      <td style="margin: 0;">
				      	<div class="progress progress-stages">
						  <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
						</div>
				      </td>
				      <td style="margin: 0;">
				      	<div class="progress progress-stages">
						  <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
						</div>
				      </td>
				    </tr> -->
				  </tbody>
				  <tr onclick="actionToggleTable()" style="cursor: pointer;">

				  	<td style="text-align: left;"><small>Antall: <span id="stages-customers">1</span></small></td>
				  	<td style="text-align: center;"><small><span id="stages-stageZ">%</span></small></td>
				  	<td style="text-align: center;"><small><span id="stages-stage1">1</span></small></td>
				  	<td style="text-align: center;"><small><span id="stages-stage2">1</span></small></td>
				  	<td style="text-align: center;"><small><span id="stages-stage3">1</span></small></td>
				  	<td style="text-align: center;"><small><span id="stages-stage4">0</span></small></td>
				  	<td style="text-align: center;"><small><span id="stages-stage5">0</span></small></td>
				  	<td style="text-align: center;"><small><span id="stages-stage6">0</span></small></td>
				  </tr>
				</table>
				<div class="row" style="margin: 0; margin-top: 20px;">
			<div class="col-10" style="float: left; padding-left: 22px; font-size: 25px;"></div>

			<div class="col-2" style="float: right;">
				<button type="button" onclick="loadData(15)" style="float: right;" class="btn btn-secondary">
					<i id="table-icon" class="material-icons"> keyboard_arrow_right </i>
				</button>
				<button type="button" onclick="actionToggleTable()" style="float: right;" class="btn btn-secondary">
					<i id="table-icon" class="material-icons"> keyboard_arrow_left </i>
				</button>
				
			</div>
		    </div>
		</div>

	</body>
</html>